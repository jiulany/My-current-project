{"version":3,"sources":["webpack:///./src/pages/app/app.vue?66d4","webpack:///./src/pages/app/app.vue?9cd5","webpack:///./src/pages/app/app.vue?e651","webpack:///./src/pages/app/app.vue?0f0b","webpack:///./src/pages/app/app.vue","webpack:///./src/pages/app/app.vue?5300","webpack:///./src/pages/app/app.vue?0fac"],"names":["indexModel","IndexModel","userModel","UserModel","name","data","active","height","list","activities","activities_title","user","valve","userInfo","components","index","store","my","car_wash","methods","_login","uni","login","provider","success","res","console","log","errMsg","code","setStorageSync","getOpenid","then","openId","userinfo","datas","skey","_show_error","_getUserInfo","_getIndex","catch","e","showToast","title","icon","mask","duration","swiperChange","detail","current","getIndex","hideLoading","getUerInfo","onLoad","getSystemInfo","screenHeight","onShow","watch","deep","handler","val"],"mappings":"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","file":"pages/app/app.js","sourcesContent":["import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=17e8badf&filter-modules=%7B%7D&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\tgcb_uni_app\\\\tgcb_uni_app\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('17e8badf')) {\n      api.createRecord('17e8badf', component.options)\n    } else {\n      api.reload('17e8badf', component.options)\n    }\n    module.hot.accept(\"./app.vue?vue&type=template&id=17e8badf&filter-modules=%7B%7D&\", function () {\n      api.rerender('17e8badf', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/app/app.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app.vue?vue&type=template&id=17e8badf&filter-modules=%7B%7D&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.active = 0\n    }\n\n    _vm.e1 = function($event) {\n      _vm.active = 1\n    }\n\n    _vm.e2 = function($event) {\n      _vm.active = 2\n    }\n\n    _vm.e3 = function($event) {\n      _vm.active = 3\n    }\n\n    _vm.e4 = function($event) {\n      _vm.active = 4\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport index from '../../components/index/index'\nimport my from '../../components/my/my'\nimport store from '../../components/store/store'\nimport car_wash from '../../components/car_wash/car_wash'\nimport {IndexModel} from \"../../model\";\nconst  indexModel = new IndexModel()\nimport {UserModel} from \"../../model/user\";\nconst  userModel = new UserModel()\nexport default {\n    name:'app',\n    data() {\n        return {\n            active: 0,\n            height:0,\n            list:{},\n            activities:{},\n            activities_title:{},\n            user:{},\n            valve:false,\n            userInfo:[]\n        }\n    },\n    components:{\n        index,\n        store,\n        my,\n        car_wash\n    },\n    methods:{\n        _login(){\n            // 登录\n            uni.login({\n                provider: 'weixin',\n                success: res => {\n                    console.log(res)\n                    if (res.errMsg === 'login:ok') {\n\n                        // 获取code\n                        const code = res.code\n                        uni.setStorageSync('code', code)\n                        // 调用获取openid接口\n                        userModel.getOpenid().then(res => {\n                            \n                            // 所以此处加入 callback 以防止这种情况\n                            if (res.data) {\n                                this.userInfo = res.data\n\n                                const openId = res.data.userinfo.openId\n                                const datas = res.data.skey\n                                if (openId) {\n                                    uni.setStorageSync('openId', openId)\n                                    uni.setStorageSync('skey', datas)\n                                } else {\n                                    userModel._show_error()\n                                }\n                                this._getUserInfo();\n                                this._getIndex()\n                                this.valve = true;\n                    \n                                // this.globalData.checkLogin = true\n                                //由于这里是网络请求，可能会在 Page.onLoad 之后才返回\n                                // 所以此处加入 callback 以防止这种情况\n\n                                // if (this.checkLoginReadyCallback) {\n                                //     this.checkLoginReadyCallback(res);\n                                // }\n                            } else {\n                                // this.globalData.checkLogin = true\n                                //由于这里是网络请求，可能会在 Page.onLoad 之后才返回\n                                // 所以此处加入 callback 以防止这种情况\n                                // if (this.checkLoginReadyCallback) {\n                                //     this.checkLoginReadyCallback(res);\n                                // }\n                                // userModel._show_error()\n                            }\n                        }).catch(e=>{\n                            uni.showToast({\n                                title: '服务器异常',\n                                icon:'none'\n                            })\n                            // setTimeout(()=>{\n                            //     this.globalData.checkLogin = true\n                            //     //由于这里是网络请求，可能会在 Page.onLoad 之后才返回\n                            //     // 所以此处加入 callback 以防止这种情况\n                            //     if (this.checkLoginReadyCallback) {\n                            //         this.checkLoginReadyCallback(res);\n                            //     }\n                            // },1000)\n                        })\n                    } else {\n                        // code获取失败\n                        uni.showToast({\n                            title: '微信授权登陆失败,请检测网络重新进入！',\n                            icon:'none',\n                            mask:true,\n                            duration:50000000\n                        })\n                        return false\n                    }\n                }\n            })\n        },\n        swiperChange(e) {\n            this.active = e.detail.current;\n            console.log(e)\n        },\n        // 调用接口\n        _getIndex(){\n            indexModel.getIndex().then((res) => {\n                uni.hideLoading()\n                if(res.data) {\n                    this.list = res.data\n                    this.activities = res.data.activities\n                    this.activities_title = res.data.activities.title\n                }\n            })\n        },\n        // 个人中心\n        _getUserInfo(){\n            userModel.getUerInfo().then((res) => {\n                if(res.code < 400){\n                    this.user = res.data\n                }\n            })\n        }\n    },\n\n    onLoad:function(){\n\n        this._login()\n\n\n\n\n\n\n\n        console.log('onLoad')\n        // this.getapps()\n        \n        uni.getSystemInfo({\n            success:res=>{\n                this.height = res.screenHeight;\n            }\n        })\n    },\n    onShow(){\n        if (this.valve) {\n            this._getUserInfo()\n        }\n    },\n    watch:{\n        deep: true,\n        'userInfo':{\n            handler(val){\n            console.log(val)\n            }\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1569377337705\n      var cssReload = require(\"C:/Users/Administrator/Desktop/tgcb_uni_app/tgcb_uni_app/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}